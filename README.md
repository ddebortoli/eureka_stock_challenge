# Stock market service

API with basic user system and call to alphavantage web service.


## Steps to execute

1. create virtual env with python 3.11
2. pip install -r requirements.txt
3. insert into variables.py your apikey
4. execute encript.py in order to encrypt that file and delete variables.py or delete the apikey
5. protect the generated keys if deploying in production, else if you are testing you can let them there.
6. execute python server.py

## Getting Started

### Dependencies

* Requirements.txt


## Help

Contact me to:
mail:damiandebortolilb@gmail.com
LinkedIn: https://www.linkedin.com/in/damian-debortoli/
## Authors

https://www.linkedin.com/in/damian-debortoli/


# Endpoints:
/api/user
POST Create user:
Bearer token Authorization required: The database has a table named "users" which doesn't have an endpoint to create new users, you have to insert them manually.
The idea is that only an admin can create new users. 

Body:
{
    "first_name": "str",
    "last_name": "str",
    "email": "str(unique)"
}

if sucess:
    user api key returned
if failure:
    error description

/api/stock
GET stock:
header api-key authorization required: Every created user has an apikey generated by uuid at the creation moment.

params:
symbol: stock symbol
output_size: compact, full
mock_data(optional): alphavantage has an limit of 25 api calls per day so if that limit is reached you should use mock data to use a mocked response from that endpoint. Send True or any other value to enable this option.

if sucess:
    {
        "Meta Data": {
            "1. Information": "Intraday (5min) open, high, low, close prices and volume",
            "2. Symbol": "IBM",
            "3. Last Refreshed": "2024-06-04 19:55:00",
            "4. Interval": "5min",
            "5. Output Size": "Compact",
            "6. Time Zone": "US/Eastern"
        },
        "Time Series (5min)": {
            "2024-06-04 19:55:00": {
                "1. open": "165.8400",
                "2. high": "166.0000",
                "3. low": "165.8400",
                "4. close": "165.8400",
                "5. volume": "59"
            },
        }
    }
if failure:
    error description.
